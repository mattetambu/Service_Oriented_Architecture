\hypertarget{_image__manipulation__server__functions_8h}{\section{Riferimenti per il file C\-:/\-Users/\-Matteo/\-Dropbox/\-Universita/\-Sistemi Operativi e Programmazione Distribuita/\-Progetto/\-Service\-\_\-\-Oriented\-\_\-\-Architecture/\-Sources/\-Application/\-Image\-\_\-manipulation\-\_\-server/\-Image\-\_\-manipulation\-\_\-server\-\_\-functions.h}
\label{_image__manipulation__server__functions_8h}\index{C\-:/\-Users/\-Matteo/\-Dropbox/\-Universita/\-Sistemi Operativi e Programmazione Distribuita/\-Progetto/\-Service\-\_\-\-Oriented\-\_\-\-Architecture/\-Sources/\-Application/\-Image\-\_\-manipulation\-\_\-server/\-Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h@{C\-:/\-Users/\-Matteo/\-Dropbox/\-Universita/\-Sistemi Operativi e Programmazione Distribuita/\-Progetto/\-Service\-\_\-\-Oriented\-\_\-\-Architecture/\-Sources/\-Application/\-Image\-\_\-manipulation\-\_\-server/\-Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}}
}
{\ttfamily \#include \char`\"{}../../\-S\-O\-A\-\_\-\-Library/\-Interface.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../\-S\-O\-A\-\_\-\-Library/\-Threads.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}./\-Horizontal\-\_\-flip\-\_\-image.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}./\-Rotate\-\_\-image.\-h\char`\"{}}\\*
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_image__manipulation__server__functions_8h_ab60b5074c740fd36061f48f90d1a0b21}{\#define \hyperlink{_image__manipulation__server__functions_8h_ab60b5074c740fd36061f48f90d1a0b21}{N\-\_\-\-T\-H\-R\-E\-A\-D\-S}~5}\label{_image__manipulation__server__functions_8h_ab60b5074c740fd36061f48f90d1a0b21}

\begin{DoxyCompactList}\small\item\em Numero di {\itshape threads} di servizio da avviare. \end{DoxyCompactList}\item 
\hypertarget{_image__manipulation__server__functions_8h_a0e06fd5133b564b00c6cf5179b0c7dae}{\#define \hyperlink{_image__manipulation__server__functions_8h_a0e06fd5133b564b00c6cf5179b0c7dae}{B\-A\-C\-K\-L\-O\-G\-\_\-\-Q\-U\-E\-U\-E}~5}\label{_image__manipulation__server__functions_8h_a0e06fd5133b564b00c6cf5179b0c7dae}

\begin{DoxyCompactList}\small\item\em Dimensione della {\itshape backlog} {\itshape queue} associatta al {\itshape listen\-\_\-socket}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{_image__manipulation__server__functions_8h_a925117a2338469d636cae90df0071bca}{check\-\_\-server\-\_\-arguments} (int n\-\_\-args, char $\ast$$\ast$args)
\begin{DoxyCompactList}\small\item\em Controllo dei parametri della funzione main del {\itshape Server}. \end{DoxyCompactList}\item 
bool \hyperlink{_image__manipulation__server__functions_8h_a906def4577c8de63bd7e69ab67544b25}{assign\-\_\-execution\-\_\-thread} (int client\-\_\-socket)
\begin{DoxyCompactList}\small\item\em Cerca fra i {\itshape threads} di servizio un {\itshape thread} libero e lo assegna all'esecuzione della richiesta. \end{DoxyCompactList}\item 
\hypertarget{_image__manipulation__server__functions_8h_a63aac0df64e5330e61c9073bd0599b5a}{bool \hyperlink{_image__manipulation__server__functions_8h_a63aac0df64e5330e61c9073bd0599b5a}{Image\-\_\-manipulation\-\_\-server\-\_\-help} ()}\label{_image__manipulation__server__functions_8h_a63aac0df64e5330e61c9073bd0599b5a}

\begin{DoxyCompactList}\small\item\em Fornisce l'elenco dei comandi accettati dal {\itshape Server}. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{_image__manipulation__server__functions_8h_a6425f50e0cbc135c5c3d408150e75a10}{thread\-\_\-body} (void $\ast$thread\-\_\-\-I\-D)
\begin{DoxyCompactList}\small\item\em Corpo di tutti i {\itshape threads} di servizio dell' {\itshape Image\-\_\-manipulation\-\_\-server}. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{_image__manipulation__server__functions_8h_a784d39059165dac03a7efb9647721638}{control\-\_\-thread\-\_\-body} (void $\ast$)
\begin{DoxyCompactList}\small\item\em Corpo del {\itshape thread} di controllo dell' {\itshape Image\-\_\-manipulation\-\_\-server}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variabili}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_image__manipulation__server__functions_8h_aca9046eb50925905ee659f62165684a8}{\hyperlink{class_rotate__image}{Rotate\-\_\-image} $\ast$ {\bfseries rotate\-\_\-image}}\label{_image__manipulation__server__functions_8h_aca9046eb50925905ee659f62165684a8}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a13fcd89c5446b2b2fb0396dda88e1f2f}{\hyperlink{class_horizontal__flip__image}{Horizontal\-\_\-flip\-\_\-image} $\ast$ {\bfseries horizontal\-\_\-flip\-\_\-image}}\label{_image__manipulation__server__functions_8h_a13fcd89c5446b2b2fb0396dda88e1f2f}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a0ed034ec7ce91872d20ac23938717979}{\hyperlink{class_threads}{Threads} {\bfseries thread} \mbox{[}\hyperlink{_service__register__server__functions_8h_ab60b5074c740fd36061f48f90d1a0b21}{N\-\_\-\-T\-H\-R\-E\-A\-D\-S}\mbox{]}}\label{_image__manipulation__server__functions_8h_a0ed034ec7ce91872d20ac23938717979}

\item 
\hypertarget{_image__manipulation__server__functions_8h_abfdf383881624687ed194172e80bcf24}{\hyperlink{class_threads}{Threads} {\bfseries control\-\_\-thread}}\label{_image__manipulation__server__functions_8h_abfdf383881624687ed194172e80bcf24}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a559eb01bc152bcd6033e52d64f6e7c41}{pthread\-\_\-mutex\-\_\-t {\bfseries mutex\-\_\-thread\-\_\-free}}\label{_image__manipulation__server__functions_8h_a559eb01bc152bcd6033e52d64f6e7c41}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a8b905b65075946d1d9fcaa813c86b9b3}{pthread\-\_\-cond\-\_\-t {\bfseries cond\-\_\-thread\-\_\-free}}\label{_image__manipulation__server__functions_8h_a8b905b65075946d1d9fcaa813c86b9b3}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a943218f30384a427b7bd8da5ae257de3}{string {\bfseries S\-P\-\_\-address}}\label{_image__manipulation__server__functions_8h_a943218f30384a427b7bd8da5ae257de3}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a6bc5fae6d25ed705c56d65ef46151964}{string {\bfseries S\-R\-\_\-address}}\label{_image__manipulation__server__functions_8h_a6bc5fae6d25ed705c56d65ef46151964}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a37f86869479ef17f2f082e5d6dee8dbf}{string {\bfseries S\-P\-\_\-port}}\label{_image__manipulation__server__functions_8h_a37f86869479ef17f2f082e5d6dee8dbf}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a1f02378765d968db00d5126f213e9038}{string {\bfseries S\-R\-\_\-port}}\label{_image__manipulation__server__functions_8h_a1f02378765d968db00d5126f213e9038}

\item 
\hypertarget{_image__manipulation__server__functions_8h_a28ab6dd809db802c37f5e6ab8a95db79}{int {\bfseries listen\-\_\-socket}}\label{_image__manipulation__server__functions_8h_a28ab6dd809db802c37f5e6ab8a95db79}

\end{DoxyCompactItemize}


\subsection{Documentazione delle funzioni}
\hypertarget{_image__manipulation__server__functions_8h_a906def4577c8de63bd7e69ab67544b25}{\index{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}!assign\-\_\-execution\-\_\-thread@{assign\-\_\-execution\-\_\-thread}}
\index{assign\-\_\-execution\-\_\-thread@{assign\-\_\-execution\-\_\-thread}!Image_manipulation_server_functions.h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}}
\subsubsection[{assign\-\_\-execution\-\_\-thread}]{\setlength{\rightskip}{0pt plus 5cm}bool assign\-\_\-execution\-\_\-thread (
\begin{DoxyParamCaption}
\item[{int}]{client\-\_\-socket}
\end{DoxyParamCaption}
)}}\label{_image__manipulation__server__functions_8h_a906def4577c8de63bd7e69ab67544b25}


Cerca fra i {\itshape threads} di servizio un {\itshape thread} libero e lo assegna all'esecuzione della richiesta. 

\begin{DoxyReturn}{Restituisce}
{\ttfamily true} in caso di assegnamento eseguito con successo, {\ttfamily false} altrimenti (tutti i {\itshape threads} sono occupati). 
\end{DoxyReturn}


Definizione alla linea 117 del file Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h.

\hypertarget{_image__manipulation__server__functions_8h_a925117a2338469d636cae90df0071bca}{\index{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}!check\-\_\-server\-\_\-arguments@{check\-\_\-server\-\_\-arguments}}
\index{check\-\_\-server\-\_\-arguments@{check\-\_\-server\-\_\-arguments}!Image_manipulation_server_functions.h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}}
\subsubsection[{check\-\_\-server\-\_\-arguments}]{\setlength{\rightskip}{0pt plus 5cm}bool check\-\_\-server\-\_\-arguments (
\begin{DoxyParamCaption}
\item[{int}]{n\-\_\-args, }
\item[{char $\ast$$\ast$}]{args}
\end{DoxyParamCaption}
)}}\label{_image__manipulation__server__functions_8h_a925117a2338469d636cae90df0071bca}


Controllo dei parametri della funzione main del {\itshape Server}. 


\begin{DoxyParams}[1]{Parametri}
\mbox{\tt in}  & {\em n\-\_\-args} & Numero di argomenti in ingresso al {\itshape Server}. \\
\hline
\mbox{\tt in}  & {\em args} & Array di argomenti in ingresso al {\itshape Server}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
Risultato della verifica, {\ttfamily true} in caso di successo e {\ttfamily false} altrimenti. Al {\itshape Server} sono necessari tre parametri per la sua esecuzione e se viene invocato con un numero inferiore di argomenti questa funzione richiede l'inserimento di quelli mancanti. Il controllo sui parametri necessari al {\itshape Server} viene effettuato nel seguente modo\-: \begin{DoxyItemize}
\item il primo deve essere un intero nell'intervallo \mbox{[}1024-\/65535\mbox{]} e rappresenta la porta di ascolto dell' {\itshape Image\-\_\-manipulation\-\_\-server} \item il secondo deve essere un indirizzo I\-P e rappresenta l'indirizzo I\-P del {\itshape Service\-\_\-register\-\_\-server} \item il terzo deve essere un intero nell'intervallo \mbox{[}1024-\/65535\mbox{]} e rappresenta la porta di ascolto del {\itshape Service\-\_\-register\-\_\-server} \end{DoxyItemize}

\end{DoxyReturn}

\begin{DoxyParams}[1]{Parametri}
\mbox{\tt in}  & {\em n\-\_\-args} & Numero di argomenti in ingresso al {\itshape Server}. \\
\hline
\mbox{\tt in}  & {\em args} & Array di argomenti in ingresso al {\itshape Server}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
Risultato della verifica, {\ttfamily true} in caso di successo e {\ttfamily false} altrimenti. Al {\itshape Server} sono necessari tre parametri per la sua esecuzione e se viene invocato con un numero inferiore di argomenti questa funzione richiede l'inserimento di quelli mancanti. Il controllo sui parametri necessari al {\itshape Server} viene effettuato nel seguente modo\-: \begin{DoxyItemize}
\item il primo deve essere un intero nell'intervallo \mbox{[}1024-\/65535\mbox{]} e rappresenta la porta di ascolto dell' {\itshape Image\-\_\-storage\-\_\-server} \item il secondo deve essere un indirizzo I\-P e rappresenta l'indirizzo I\-P del {\itshape Service\-\_\-register\-\_\-server} \item il terzo deve essere un intero nell'intervallo \mbox{[}1024-\/65535\mbox{]} e rappresenta la porta di ascolto del {\itshape Service\-\_\-register\-\_\-server} \end{DoxyItemize}

\end{DoxyReturn}

\begin{DoxyParams}[1]{Parametri}
\mbox{\tt in}  & {\em n\-\_\-args} & Numero di argomenti in ingresso al {\itshape Server}. \\
\hline
\mbox{\tt in}  & {\em args} & Array di argomenti in ingresso al {\itshape Server}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
Risultato della verifica, {\ttfamily true} in caso di successo e {\ttfamily false} altrimenti. Al {\itshape Server} è necessario un solo parametro per la corretta esecuzione e se viene invocato privo di argomenti questa funzione ne richiede l'inserimento. Il parametro necessario al {\itshape Server} è un intero nell'intervallo \mbox{[}1024-\/65535\mbox{]} e rappresenta la porta di ascolto del {\itshape Service\-\_\-register\-\_\-server}. 
\end{DoxyReturn}


Definizione alla linea 90 del file Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h.

\hypertarget{_image__manipulation__server__functions_8h_a784d39059165dac03a7efb9647721638}{\index{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}!control\-\_\-thread\-\_\-body@{control\-\_\-thread\-\_\-body}}
\index{control\-\_\-thread\-\_\-body@{control\-\_\-thread\-\_\-body}!Image_manipulation_server_functions.h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}}
\subsubsection[{control\-\_\-thread\-\_\-body}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ control\-\_\-thread\-\_\-body (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{_image__manipulation__server__functions_8h_a784d39059165dac03a7efb9647721638}


Corpo del {\itshape thread} di controllo dell' {\itshape Image\-\_\-manipulation\-\_\-server}. 

Corpo del {\itshape thread} di controllo del {\itshape Service\-\_\-register\-\_\-server}.

Corpo del {\itshape thread} di controllo dell' {\itshape Image\-\_\-storage\-\_\-server}.

Il {\itshape thread} di controllo, fino alla ricezione del comando di terminazione, esegue ciclicamente le seguenti operazioni\-: \begin{DoxyItemize}
\item si pone in attesa di essere attivato (manualmente) per eseguire un comando \item richiede l'inserimento del comando e verifica se è in grado di eseguirlo (altrimenti lo rifiuta) \item se il comando viene accettato esegue l'operazione corrispondente \end{DoxyItemize}


Definizione alla linea 184 del file Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h.

\hypertarget{_image__manipulation__server__functions_8h_a6425f50e0cbc135c5c3d408150e75a10}{\index{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}!thread\-\_\-body@{thread\-\_\-body}}
\index{thread\-\_\-body@{thread\-\_\-body}!Image_manipulation_server_functions.h@{Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h}}
\subsubsection[{thread\-\_\-body}]{\setlength{\rightskip}{0pt plus 5cm}void $\ast$ thread\-\_\-body (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{thread\-\_\-\-I\-D}
\end{DoxyParamCaption}
)}}\label{_image__manipulation__server__functions_8h_a6425f50e0cbc135c5c3d408150e75a10}


Corpo di tutti i {\itshape threads} di servizio dell' {\itshape Image\-\_\-manipulation\-\_\-server}. 

Corpo di tutti i {\itshape threads} di servizio del {\itshape Service\-\_\-register\-\_\-server}.

Corpo di tutti i {\itshape threads} di servizio dell' {\itshape Image\-\_\-storage\-\_\-server}.


\begin{DoxyParams}[1]{Parametri}
\mbox{\tt out}  & {\em thread\-\_\-\-I\-D} & Intero che identifica il {\itshape thread} a cui è associata l'istanza della funzione. Ogni {\itshape thread} di servizio, fino alla ricezione del comando di terminazione, esegue ciclicamente le seguenti operazioni\-: \begin{DoxyItemize}
\item segnala la sua disponibilità a ricevere connessioni e si pone in attesa di essere attivato per servire un {\itshape Client} \item riceve il nome del servizio richiesto dal {\itshape Client} e se questo non corrisponde ad un servizio fornito rifiuta al richiesta \item se la richiesta del {\itshape Client} viene accettata riceve i parametri necessari per l'esecuzione del servizio \item richiama il servizio richiesto (rotazione o riflessione dell'immagine) ottenendo il risultato della manipolazione \item invia al {\itshape Client} il risultato dell'esecuzione del servizio\end{DoxyItemize}
\\
\hline
\mbox{\tt in}  & {\em thread\-\_\-\-I\-D} & Intero che identifica il {\itshape thread} a cui è associata l'istanza della funzione. Ogni {\itshape thread} di servizio, fino alla ricezione del comando di terminazione, esegue ciclicamente le seguenti operazioni\-: \begin{DoxyItemize}
\item segnala la sua disponibilità a ricevere connessioni e si pone in attesa di essere attivato per servire un {\itshape Client} \item riceve il nome del servizio richiesto dal {\itshape Client} e se questo non corrisponde ad un servizio fornito rifiuta al richiesta \item se la richiesta del {\itshape Client} viene accettata riceve i parametri necessari per l'esecuzione del servizio \item richiama il servizio richiesto ed invia al {\itshape Client} il risultato dell'esecuzione\end{DoxyItemize}
\\
\hline
\mbox{\tt in}  & {\em thread\-\_\-\-I\-D} & Intero che identifica il {\itshape thread} a cui è associata l'istanza della funzione. Ogni {\itshape thread} di servizio, fino alla ricezione del comando di terminazione, esegue ciclicamente le seguenti operazioni\-: \begin{DoxyItemize}
\item segnala la sua disponibilità a ricevere connessioni e si pone in attesa di essere attivato per servire un {\itshape Client} \item riceve il nome del servizio richiesto dal {\itshape Client} e se questo non corrisponde ad un servizio fornito rifiuta al richiesta \item se la richiesta del {\itshape Client} viene accettata riceve i parametri necessari per l'esecuzione del servizio \item richiama il servizio richiesto e, se necessario, invia al {\itshape Client} il risultato dell'esecuzione \end{DoxyItemize}
\\
\hline
\end{DoxyParams}


Definizione alla linea 147 del file Image\-\_\-manipulation\-\_\-server\-\_\-functions.\-h.

